<!doctype html>
<html>
    <head>
        <link rel=stylesheet href=bootstrap.css>
        <link rel=stylesheet href=style.css>
    </head>
    <body>
        <div id=search-options>
            <form class="form-inline container-fluid">
                <input id=search type=text value=min>
            </form>
        </div>

        <div class=container-fluid>
            <div class=row>
                <div class=span6>
                    <img src=chords/chord_amin95.gif data-search=Amin9>
                    <img src=chords/chord_amin96.gif data-search=Amin9>
                    <img src=chords/chord_asus2_open.gif data-search=Asus2>
                    <img src=chords/chord_b55.gif data-search=B5>
                    <img src=chords/chord_cmin95.gif data-search=Cmin9>
                </div>

                <div class=span6>
                    <img src=chords/chord_d7sus2_open.gif data-search=D7sus2>
                    <img src=chords/chord_dmaj7_open.gif data-search=Dmaj7>
                    <img src=chords/chord_e9_open.gif data-search=E9>
                    <img src=chords/chord_eb7sus45.gif data-search=Eb7sus4>
                    <img src=chords/chord_fmaj66.gif data-search=F6>
                </div>
            </div>
        </div>

        <script src=jquery.js></script>
        <script src=jquery.fn.search.js></script>

        <script>
            $(function() {
                var searchBox = $('#search'),
                    target = $('img').search({
                        highlight: false,
                        filter: function(q) {
                            var metadata = $(this).data('search');
                            return metadata && metadata.search(new RegExp(newValue, 'ig')) >= 0;
                        }
                    });

                var newValue, lastValue = null;
                function searchHandler() {
                    newValue = searchBox.val();
                    // Nothing changed..
                    if (newValue === lastValue) return;
                    // Update last value
                    lastValue = newValue;

                    target.search('search', newValue);
                }

                searchBox.on('keyup', searchHandler);
                // on load
                searchHandler();
            });
        </script>
    </body>
</html>
