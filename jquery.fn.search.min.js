var __slice=Array.prototype.slice;(function(a){return typeof exports=="object"?a(require("jquery")):typeof define=="function"&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){var b,c,d,e,f,g,h;return g=function(a,b,c){var d,e;return c==null&&(c="highlight"),d=function(a,b){var f,g,h,i,j,k,l,m;l=0;if(a.nodeType===3)k=a.data.search(e),k>=0&&a.data.length>0&&(h=a.data.match(e),m=document.createElement("span"),m.className=c,i=a.splitText(k),f=i.splitText(h[0].length),j=i.cloneNode(!0),m.appendChild(j),i.parentNode.replaceChild(m,i),l=1);else if(a.nodeType===1&&a.childNodes&&!/(script|style)/i.test(a.tagName)){g=0;while(g<a.childNodes.length)g+=d(a.childNodes[g],b),g++}return l},e=typeof b=="string"?new RegExp(b,"i"):b,a.each(function(){return d(this,b)})},h=function(a,b){return a.find("span."+b).each(function(){var a;return a=this.parentNode,a.replaceChild(this.firstChild,this),a.normalize()}).end()},d={fade:{on:function(a,b,c){return b.css({opacity:.3})},off:function(a,b){return this.css({opacity:1})}},hide:{on:function(a,b,c){return b.hide()},off:function(a,b){return this.show()}}},b={effect:function(b,c){return a.extend(d,c)},enable:function(a){if(!a.enabled)return highlight(a.hits),a.enabled=!0},disable:function(a){if(a.enabled)return h(a.hits),a.enabled=!1},search:function(b,c){var f,i,j,k,l,m,n;n=b.options,typeof (j=n.filter)=="string"&&(j=e[j]),i=null,k=n.highlight,l=n.highlightClass,typeof (m=n.effect)=="string"?i=d[m]:typeof a.isArray(m)?i={on:function(){var a,b,c,e,f;a=1<=arguments.length?__slice.call(arguments,0):[];for(c=0,e=m.length;c<e;c++)b=m[c],(f=d[b]).on.apply(f,a)},off:function(){var a,b,c,e,f;a=1<=arguments.length?__slice.call(arguments,0):[];for(c=0,e=m.length;c<e;c++)b=m[c],(f=d[b]).off.apply(f,a)}}:typeof m=="object"&&(i=m),i&&i.off.call(this,b.hits,b.misses),k&&(f=b.hits,n.matchOn&&(f=b.hits.find(n.matchOn)),h(f,l)),c?(b.hits=this.filter(function(b){return f=this,n.matchOn&&(f=a(this).find(n.matchOn)),j.call(f,c,b)}),b.misses=this.not(b.hits),k&&(f=b.hits,n.matchOn&&(f=b.hits.find(n.matchOn)),g(f,c,l))):(b.hits=a(),b.misses=a());if(i)return i.on.call(this,b.hits,b.misses)}},e={text:function(b){return a(this).text().search(new RegExp(b,"ig"))>=0}},f={effect:"fade",fadeTo:.3,highlight:!0,highlightClass:"highlight",filter:"text",matchOn:null},c="jquery.fn.search",a.fn.search=function(){var d,e,g,h,i;g=arguments[0],d=2<=arguments.length?__slice.call(arguments,1):[];if(!this.length)return this;if(!(i=this.data(c))&&g&&!a.isPlainObject(g))throw new Error("Commands cannot be used until search has been setup");return typeof g=="string"?((e=b[g])&&e.call.apply(e,[this,i].concat(__slice.call(d))),this):(h=a.extend({},f,g),i&&b.disable(this,i),this.data(c,{options:h,hits:a(),misses:a()}))}});